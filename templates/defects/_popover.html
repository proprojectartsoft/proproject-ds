<ion-modal-view>
    <ion-header-bar style="background-color: #2f4759" ng-click="vm.closePopup()">
        <div class="buttons" >
            <button class="button button-clear" style="color:white" ><i class="icon ion-ios-arrow-back"></i></button>
        </div>
        <h1 style="color:white" class="title">{{vm.settings.state | capitalize}}</h1>
    </ion-header-bar>
    <ion-content>
            <ion-list>
                <label class="ds-status">
                    <input class="ds-input" type="search" placeholder="Search" ng-change="vm.search()" ng-model="vm.local.search">
                </label>
                <div class="list" ng-if="vm.settings.state === 'details'">
                    <ion-item class="item" ng-repeat="assignee in vm.local.poplist | filter:vm.local.search" ng-click="vm.addAssignee(assignee)">{{assignee.first_name}} {{assignee.last_name}}</ion-item>
                </div>
                <div class="list" ng-if="vm.settings.state === 'related'">
                    <ion-item class="item" ng-repeat="related in vm.local.poplist | filter:vm.local.search" ng-click="vm.addRelated(related)">{{related.title}}</ion-item>
                </div>
            </ion-list>
    </ion-content>
</ion-modal-view>
