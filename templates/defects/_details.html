<ion-view hide-back-button="true" cache-view="false">
    <ion-header-bar align-title="left" class="bar-subheader bar-calm" ng-click="vm.back()">
        <button class="button ion-ios-arrow-left"></button>
        <h1 class="title">{{vm.settings.subHeader}}</h1>
    </ion-header-bar>
    <ion-content class="has-header ds-blackscroll ds-page ds-page-details">
        <div class="title" ng-if="vm.local.entityId !== '0'">{{vm.defect.title}}</div>
        <ion-item class="ds-grh-cont active" ng-class="{'ds-spacingtop' : vm.local.entityId === '0'}">
            <div class="ds-grh">
                <h3>Defect details<i class="ion ion-ios-arrow-down"></i>
                </h3>
            </div>
            <div class="ds-container">
                <label>
                    <div class="ds-content">
                        <span class="ds-title">Name</span>
                    </div>
                    <input ng-model="vm.defect.title" ng-readonly="disableedit">
                </label>
                <label>
                    <div class="ds-content">
                        <span class="ds-title">Status</span>
                    </div>
                </label>
                <status item="vm.defect.status_obj" ng-disabled="disableedit"></status>
                <label>
                    <div class="ds-content">
                        <span class="ds-title">Priority</span>
                    </div>
                </label>
                <priority item="vm.defect.priority_obj" ng-disabled="disableedit"></priority>
                <label>
                    <div class="ds-content">
                        <span class="ds-title">Severity</span>
                    </div>
                </label>
                <severity item="vm.defect.severity_obj" ng-disabled="disableedit"></severity>
                <label>
                    <div class="ds-content">
                        <span class="ds-title">Assignee</span>
                    </div>
                    <input class="ds-input" ng-model="vm.defect.assignee_name" ng-click="vm.assignee()" ng-if="!disableedit">
                    <span class="ds-input" ng-if="disableedit">{{vm.defect.assignee_name}}</span>
                </label>
                <div class="ds-label">
                    <div class="ds-content">
                        <span class="ds-title">Due date</span>
                    </div>
                    <div ion-datetime-picker date ng-model="vm.defect.due_date" month-step="1" hour-step="1" minute-step="1" second-step="1" class="ds-date" ng-if="!disableedit">
                        <div ng-if="vm.defect.due_date">{{vm.defect.due_date | date}}</div>
                        <div ng-if="!vm.defect.due_date">Tap here to select a date.</div>
                    </div>
                    <div class="ds-date" ng-if="disableedit">
                        <div ng-if="vm.defect.due_date">{{vm.defect.due_date | date}}</div>
                        <div ng-if="!vm.defect.due_date">Tap here to select a date.</div>
                    </div>
                </div>
                <label>
                    <div class="ds-content">
                        <span class="ds-title">Description</span>
                    </div>
                    <input ng-model="vm.defect.description" ng-readonly="disableedit">
                </label>
                <label>
                    <div class="ds-content">
                        <span class="ds-title">Location</span>
                    </div>
                    <input ng-model="vm.defect.location" ng-readonly="disableedit">
                </label>
                <label>
                    <div class="ds-content">
                        <span class="ds-title">Cost</span>
                    </div>
                    <input type="number" ng-model="vm.defect.cost" ng-readonly="disableedit">
                </label>
            </div>
        </ion-item>
    </ion-content>
</ion-view>
